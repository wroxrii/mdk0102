# Конспект от 3 февраля 2023 по теме:
### Возбуждение исключений
Для возбуждения исключения используется оператор **raise**.

В качестве аргумента оператор **raise** использует экземпляр класса, унаследованного от Exception.

Класс указывает на тип исключения, а аргумент, передаваемый конструктору этого исключения, обычно описывает подробности возникновения исключительной ситуации.

Если возбуждаемые пользователем исключения не перехватываются, то они распространяются вплоть до стандартного обработчика исключений и прекращают работу программы с выводом стандартного сообщения об ошибке.

> Возбуждаемые пользователем исключения перехватываются тем же способом, что и исключения, которые возбуждает интерпретатор Python.

###### Приведённый ниже код:
```
try:
	raise IndexError('Ошибка в коде')
except Exception as err:
	print(err)
	print(type(err))
```
###### Выведет:
```
Ошибка в коде
<class 'IndexError'>
```
###### Пример 2:
```
def get_month_name(index):
	try:
		if not str(index).isdigit():
			raise TypeError('Аргумент должен быть числом.')
		if index < 1 or index > 12:
			raise ValueError('Аргумент должен быть числом от 1 до 12.')
	except Exception as err:
		return err
	else:
		return index
print(get_month_name(25))
print(get_month_name('строка'))
print(get_month_name(8))
```
###### Выведет:
```
Аргумент должен быть числом от 1 до 12.
Аргумент должен быть числом.
8
```
#
При создании объекта исключения можно указать в конструкторе подробности возникновения исключительной ситуации.

Конструктор любого исключения принимает переменное количество аргументов.

Для того чтобы получить указанные значения, используется атрибут **args**, который является кортежем.

###### Приведённый ниже код:
```
try:
	x, y = 10, 0
	if y == 0:
		raise ZeroDivisionError('Произошло деление на ноль.')
except ZeroDivisionError as err:
	print(err)
	print(err.args)
	print(type(err.args))
```
###### Выведет:
```
Произошло деление на ноль.
('Произошло деление на ноль.',)
<class 'tuple'>
```
> При печати объекта исключения автоматически происходит вызов функции str().
#
Оператор возбуждения исключений raise имеет несколько вариантов формата:

##### Вариант 1:
```
raise <экземпляр класса>
```
В данном формате оператора raise указывается экземпляр класса возбуждаемого исключения с аргументами при необходимости.
###### Пример:
```
raise ValueError('Описание исключения')
```
##### Вариант 2:
```
raise <название класса>
```
Во втором варианте оператора raise указывается только название класса исключения.
###### Пример:
```
raise ValueError
# эквивалентно: raise ValueError()
```
#
#### Примечания
##### Примечание 1:
Механизм исключений достаточно медленный, поэтому, например, не очень хорошей идеей будет возбуждать исключение внутри цикла, когда мы точно знаем, что их будет достаточно большое количество.
##### Примечание 2:
При передаче переменной с исключением в функцию print(), если аргументов было передано несколько, они будут выведены все в виде кортежа.
###### Приведённый ниже код:
```
try:
	raise ValueError('Ой', 'Произошла ошибка')
except ValueError as e:
	print(e)
```
###### Выведет:
```
('Ой', 'Произошла ошибка')
```
#
### Пользовательские исключения
В Python можно создавать собственный типы исключений. Такая практика позволяет увеличить гибкость процесса обработки ошибок в рамках той предметной области, для которой написана программа.

Для создания собственного типа исключения необходимо создать класс, являющийся потомком (наследником) одного из уже существующего типа исключения. Самым верным вариантом является класс Exception.
###### Приведённый ниже код:
```
class NegativeAgeError(Exception):
	pass
```
Описывает новый тип исключения с именем NegativeAgeError, который является потомком класса Exception.

Класс Exception содержит весь необходимый функционал, позволяющий работать с исключениями, поэтому в большинстве случаев достаточно создать пустой класс, который является потомком класса Exception.

###### Например:
```
class NegativeAgeError(Exception):
	pass
try:
	print('Введите свой возраст:')
	age = int(input())
	if age < 0:
	raise NegativeAgeError('Возраст не может быть отрицательным')
	print('Ваш возраст равен', age)
except ValueError:
	print('Возраст должен быть числом')
except NegativeAgeError as e:
	print(e)
```
###### Формат ввода 1:
```
Введите свой возраст:
тридцать
```
###### Формат вывода 1:
```
Возраст должен быть числом
```
###### Формат ввода 2:
```
Введите свой возраст:
-7
```
###### Формат вывода 2:
```
Возраст не может быть отрицательным
```
<3
