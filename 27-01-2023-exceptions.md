# Конспект от 27 января 2023 по теме:
### Обработка исключений 
#### Типы ошибок
Разрабтка программы на любом языке программирования практически всегда бывает связана с возникновением различного рода ошибок, препятствующих получению желаемого результата.

Выделяют следующие три категории ошибок:
- **синтаксические** - возникают из-за синтаксических погрешностей кода
- **логические** - проявляются вследствие логических неточностей в алгоритме
- **исключения, ошибки времени выполнения** - вызваны некорректными действиями пользователя или системы
#
#### Синтаксические ошибки
Синтаксические ошибки являются следствием несоблюдени общепринятого синтаксиса языка.

Другими словами, это ошибки, связанные с неправильно набранным кодом.

Например:
```
print('Hello, world!'
```
Допущена синтаксическая ошибка: **отустствует закрывающая скобка** в вызове функции `print()`.

###### другой пример:
```
def square(num)
    return num ** 2
```
Допущена синтаксичесая ошибка: **пропущен символ двоеточия** в описании функции. При попытке его запуска получим: `SyntaxError: expected ':'`.
#
#### Логические ошибки
Логические ошибки считаются более сложными в выявлении, поскольку не отлавливаются интерпретатором.

Обычно они вызваны определенным недостатком в логике программы, из-за чего результат работы программы отличается от желаемого результата.

Возможным решением проблемы является тестирование программы на разных примерах входных данных, для которых известен правильный результат.

Например функция `avg()`, подсчитывающая среднее значение переданных в нее аргументов:
```
def avg(a, b):
    return a + b / 2
print(avg(0, 7))
print(avg(6, 14))
```
В теле функции допущена **логическая** ошибка, пропущеный скобки, на два должна делиться сумма чисел a и b, а не только b.
> Логические ошибки могут проявлять себя только при определенных условиях.
#
#### Исключения
Исключительные ситуации или исключения (exceptions) - это ошибки, обнаруженне при исполнении.

Исключения проявляются в зависимости от наличия обстоятельств, меняющих ход выполнения программы, связанны с некорректностью переданных в программу данных, недоступностью ресурсов и так далее.

Например, к чему приведет попытка чтения несуществующего файла? Или если файл был случайно удален пока программа работала? Такие ситуации обрабатываются при помощи исключений.
Например:
```
num1 = 10
num2 = 0
print(num1 / num2)
```
Деление на ноль провоцирует исклчительную ситуацию, которая приводит к аварийном узавершению работы и выводу ошибки на экрна. `ZeroDivisonError` - это название исключения, а `division by zero` - его краткое описание.
> При обнаружении необработанного исключения Python немедленно останавливает выполнение программы и выводит сообщение об ошибке!
#
#### Работа с кодами возврата
У работы с исключениями есть преимущества перед кодами возврата. В современных языках программирования, таких как Python, C#, Java, GO и так далее, используются именно исключения.

Несмотря на то что язык Python полностью поддерживает работу с искллючениями, как с полноценными объектами, мы все же можем встретить следы работы с кодами возврата, которые Python унаследовал от языка C.

Например: Строковый тип данных `str` содержит два похожих метода: `find()` и `index()`.

Оба метода ищут позицию первого вхождения подстроки в заданную строку.

Следующий программный код:
```
text = 'Hello, world!'
print(text.find('w'))
print(text.find('a'))
print(text.index('a'))
```

Выводит:
```
7
-1
ValueError: substring not found
```

Метод `find()` использует механизм кодов возврата.

Метод `index()` возбуждает исключение.

#
### Обработка исключений
#### Основные типы исключений
**Общая идея:**

Программный код, в котором теоретически может возникнуть ошибка, выделяется специальным образом - *берётся на контроль*.

Если при выполнении этого программного кода ошибка не возникает, то ничего не происходит.

Если при выполнении *контролируемого* кода возникает ошибка, то выполнение кода останавливается и автоматически создается объект-исключение, содержащий описание возникшей ошибки.

Для обработки исключительных ситуаций в языке Python используется конструкция **try-except**.

Поле ключевого слова **try** и двоеточия размещается блок программного кода, который мы подозреваем на предмет возможного возникновения ошибки.

Этот код навывается **контролируемым**.

По завершении этого блока указывается ключевое слово **except** (с двоеточием), после которого идет еще один блок программного кода.

Этот код называется **кодом обработки ошибки (исключения)**.

Шаблон конструкции обработки исключений:
```
try:
    # конролируемый код
except:
    # код обработки ошибки (исключения)
```

Пример:
```
try:
    num1 = int(input())
    num2 = int(input())
    print('Частное чисел равно', num1 / num2)
except:
    print('Вы ввели некорректные данные!')
```
> Такая схема обработки ошибок (исключений), проста и удобна. Но недостаток ее в том, что **разные ошибки (исключения) обрабатываются одинаково.** То есть, какая бы ни возникла ошибка (исключение), реакция программы будет одна и та же.
